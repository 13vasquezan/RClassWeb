<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>ForCatsPackageTutorial</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->



<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Angelina's LabJournal</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Journal.html">Journal</a>
</li>
<li>
  <a href="RIntrinsics.html">R Intrinsics</a>
</li>
<li>
  <a href="HarderProblems.html">Harder Problems</a>
</li>
<li>
  <a href="examples.html">GG-Plot</a>
</li>
<li>
  <a href="DataWrangleFlankerAV.html">Data Wrangling</a>
</li>
<li>
  <a href="Statistics.html">Statistics</a>
</li>
<li>
  <a href="ForCatsPackageTutorial.html">ForCatsPackageTutorial</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">ForCatsPackageTutorial</h1>

</div>


<div id="dealing-with-catergorical-data" class="section level2">
<h2>Dealing with Catergorical Data</h2>
<p>Categorical variables deal with qualitative data and have have an infinite number or values (i.e. hair color, location, ethnicity) verses quantitative data that is on a continuious scale (i.e. 2,3,4).</p>
<p>Although this categorical information is useful, it might be hard to work with. Using a package to organize and manipulate categorical data can help.</p>
<div id="packages-to-work-with-categorical-data" class="section level3">
<h3>Packages to Work with Categorical Data</h3>
<p>Forcats is a package under the Tidyverse universe. However, it is not one of the main packages, so you would need to install forcats from tidyverse</p>
<p>You can install the package a few different ways.</p>
<p>Install the <strong>forcats</strong> package from <a href="https://github.com/tidyverse/forcats">Github</a>:</p>
<p>Or enter the R code listed below</p>
<pre class="r"><code>devtools::install_github(&quot;tidyverse/forcats&quot;)
install.packages(&quot;forcats&quot;)
library(forcats)</code></pre>
</div>
</div>
<div id="the-different-functions-of-forcats" class="section level2">
<h2>The Different Functions of Forcats</h2>
<p>It is important to note a few things before using the Forcats package. First, this package works with categorical data in the form of factors or characters. You can check what type of class your variable is with the function <strong>class()</strong>. To use Forcats, you should change your variable to a factor with the function <strong>as.factor()</strong> or <strong>factor()</strong> or a character with the function <strong>as.character()</strong>.</p>
<pre class="r"><code>a&lt;-&quot;hi&quot;
class(a)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>b&lt;-c(2,3,5)
class(b)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<pre class="r"><code>c&lt;-as.factor(b)
class(c)</code></pre>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<p>Second,forcats is a package that is used to do something with you categorical data. When you enter in the specific R code to do something with that data, it will store it into the variable you selected. However, it may be difficult for you to see that what you did with Forcats actually happened. It is useful to also install the package <strong>dplyr</strong> and <strong>ggplot2</strong> to your R studio so you can visualize what you have done with your data</p>
<pre class="r"><code>library(dplyr)
library(ggplot2)</code></pre>
<div id="recoding-a-factor" class="section level3">
<h3>1. Recoding a Factor</h3>
<p>If you have categorical variables/factors, you can change the name or identity of that factor.</p>
<p>Use the <strong>fct_recode()</strong></p>
<pre class="r"><code>#Using data in r (airquality)
library(dplyr)
library(forcats)

# Take a look at the data
glimpse(airquality)</code></pre>
<pre><code>## Observations: 153
## Variables: 6
## $ Ozone   &lt;int&gt; 41, 36, 12, 18, NA, 28, 23, 19, 8, NA, 7, 16, 11, 14, 18…
## $ Solar.R &lt;int&gt; 190, 118, 149, 313, NA, NA, 299, 99, 19, 194, NA, 256, 2…
## $ Wind    &lt;dbl&gt; 7.4, 8.0, 12.6, 11.5, 14.3, 14.9, 8.6, 13.8, 20.1, 8.6, …
## $ Temp    &lt;int&gt; 67, 72, 74, 62, 56, 66, 65, 59, 61, 69, 74, 69, 66, 68, …
## $ Month   &lt;int&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,…
## $ Day     &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1…</code></pre>
<pre class="r"><code># The column month is listed as an integer so lets change it to a factor
airquality$Month &lt;- factor(airquality$Month)

levels(airquality$Month)</code></pre>
<pre><code>## [1] &quot;5&quot; &quot;6&quot; &quot;7&quot; &quot;8&quot; &quot;9&quot;</code></pre>
<pre class="r"><code># Now we can recode the factors into the categorical names of the months

airquality$Month &lt;- fct_recode(airquality$Month, May = &#39;5&#39;, June = &#39;6&#39;, July = &#39;7&#39;, Aug = &#39;8&#39;, Sept = &#39;9&#39;)

glimpse(airquality$Month)</code></pre>
<pre><code>##  Factor w/ 5 levels &quot;May&quot;,&quot;June&quot;,&quot;July&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
</div>
<div id="reversing-the-order-of-the-factors" class="section level3">
<h3>2. Reversing the order of the Factors</h3>
<p>If you have categorical variables/factors in one order you can reverse that order.</p>
<p>Use <strong>fct_rev()</strong></p>
<pre class="r"><code>library(ggplot2)
#You will reverse the original order of the factors
ggplot(airquality, aes(fct_rev(Month), Temp)) +
  geom_boxplot(aes(fill = Month)) +
  labs(x = &quot;Month&quot;) +
  ggtitle(label = &quot;Plot with The X-axis Reversed&quot;)</code></pre>
<p><img src="ForCatsPackageTutorial_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="releveling-a-factor" class="section level3">
<h3>3. Releveling a Factor</h3>
<p>If you want to change the location or level of your factor.</p>
<p>Use <strong>fct_relevel()</strong></p>
<pre class="r"><code>#You will see the order of the factor months has changed from the orginal order
airquality$Month &lt;- fct_relevel(airquality$Month, &#39;Sept&#39;, &#39;July&#39;, &#39;May&#39;, &#39;Aug&#39;, &#39;June&#39;)

levels(airquality$Month)</code></pre>
<pre><code>## [1] &quot;Sept&quot; &quot;July&quot; &quot;May&quot;  &quot;Aug&quot;  &quot;June&quot;</code></pre>
<pre class="r"><code>ggplot(airquality, aes(Month, Temp)) +
  geom_boxplot(aes(fill = Month)) +
  ggtitle(label = &quot;Order of &#39;Month&#39; has changed&quot;)</code></pre>
<p><img src="ForCatsPackageTutorial_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
<div id="combining-levels-of-a-factor" class="section level3">
<h3>4.Combining Levels of a Factor</h3>
<p>If you have too many levels of a factor, you can combine some of them to an “other” category and choose to display only a certain number of the levels you want.</p>
<p>Use <strong>fct_lump()</strong></p>
<pre class="r"><code>library(dplyr)

#You will lump the  category skin color into 5 levels and then the remaining will be in &quot;other&quot;
starwars %&gt;%
  mutate(skin_color = fct_lump(skin_color, n = 5)) %&gt;%
  count(skin_color, sort = TRUE)</code></pre>
<pre><code>## # A tibble: 6 x 2
##   skin_color     n
##   &lt;fct&gt;      &lt;int&gt;
## 1 Other         41
## 2 fair          17
## 3 light         11
## 4 dark           6
## 5 green          6
## 6 grey           6</code></pre>
</div>
<div id="randomly-reordering-a-factor" class="section level3">
<h3>5.Randomly Reordering a Factor</h3>
<p>If you don’t want the order your factors are in but don’t know what order you want, you can randomly choose the order of your factors.</p>
<p>Use <strong>fct_shuffle()</strong></p>
<pre class="r"><code># You will see a random order of the factor eye color
Randomized &lt;- starwars$eye_color %&gt;%
  fct_shuffle()

levels(Randomized)</code></pre>
<pre><code>##  [1] &quot;yellow&quot;        &quot;red&quot;           &quot;green, yellow&quot; &quot;orange&quot;       
##  [5] &quot;white&quot;         &quot;blue&quot;          &quot;dark&quot;          &quot;hazel&quot;        
##  [9] &quot;pink&quot;          &quot;red, blue&quot;     &quot;brown&quot;         &quot;blue-gray&quot;    
## [13] &quot;black&quot;         &quot;gold&quot;          &quot;unknown&quot;</code></pre>
</div>
<div id="reordering-a-factor" class="section level3">
<h3>6.Reordering a Factor</h3>
<p>Lastly, you can reorder your factors by using another variable.</p>
<p>Use <strong>fct_reorder()</strong></p>
<pre class="r"><code>#First you will lump how many levels of the factor eyecolor you want
library(forcats)
library(dplyr)
glimpse(starwars)</code></pre>
<pre><code>## Observations: 87
## Variables: 13
## $ name       &lt;chr&gt; &quot;Luke Skywalker&quot;, &quot;C-3PO&quot;, &quot;R2-D2&quot;, &quot;Darth Vader&quot;, &quot;L…
## $ height     &lt;int&gt; 172, 167, 96, 202, 150, 178, 165, 97, 183, 182, 188, …
## $ mass       &lt;dbl&gt; 77.0, 75.0, 32.0, 136.0, 49.0, 120.0, 75.0, 32.0, 84.…
## $ hair_color &lt;chr&gt; &quot;blond&quot;, NA, NA, &quot;none&quot;, &quot;brown&quot;, &quot;brown, grey&quot;, &quot;bro…
## $ skin_color &lt;chr&gt; &quot;fair&quot;, &quot;gold&quot;, &quot;white, blue&quot;, &quot;white&quot;, &quot;light&quot;, &quot;lig…
## $ eye_color  &lt;chr&gt; &quot;blue&quot;, &quot;yellow&quot;, &quot;red&quot;, &quot;yellow&quot;, &quot;brown&quot;, &quot;blue&quot;, &quot;…
## $ birth_year &lt;dbl&gt; 19.0, 112.0, 33.0, 41.9, 19.0, 52.0, 47.0, NA, 24.0, …
## $ gender     &lt;chr&gt; &quot;male&quot;, NA, NA, &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;female&quot;, N…
## $ homeworld  &lt;chr&gt; &quot;Tatooine&quot;, &quot;Tatooine&quot;, &quot;Naboo&quot;, &quot;Tatooine&quot;, &quot;Alderaa…
## $ species    &lt;chr&gt; &quot;Human&quot;, &quot;Droid&quot;, &quot;Droid&quot;, &quot;Human&quot;, &quot;Human&quot;, &quot;Human&quot;,…
## $ films      &lt;list&gt; [&lt;&quot;Revenge of the Sith&quot;, &quot;Return of the Jedi&quot;, &quot;The …
## $ vehicles   &lt;list&gt; [&lt;&quot;Snowspeeder&quot;, &quot;Imperial Speeder Bike&quot;&gt;, &lt;&gt;, &lt;&gt;, &lt;…
## $ starships  &lt;list&gt; [&lt;&quot;X-wing&quot;, &quot;Imperial shuttle&quot;&gt;, &lt;&gt;, &lt;&gt;, &quot;TIE Advanc…</code></pre>
<pre class="r"><code>avg_mass_eye_color &lt;- starwars %&gt;%
  mutate(eye_color = fct_lump(eye_color, n = 6)) %&gt;%
  group_by(eye_color) %&gt;%
  summarise(mean_mass = mean(mass, na.rm = TRUE))</code></pre>
<pre class="r"><code>library(ggplot2)

#Then you will reorder the factor by it&#39;s mean mass from least to most
avg_mass_eye_color %&gt;%
  mutate(eye_color = fct_reorder(eye_color, mean_mass)) %&gt;%
  ggplot(aes(x = eye_color, y = mean_mass)) + 
  geom_col()</code></pre>
<p><img src="ForCatsPackageTutorial_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>If you want to try these out for yourself, there are many different data sources that R provides for you to practice on. My favorite is the starwars data, but listed in my examples is also airquality data.</p>
<p>Below are some links to tutorials that I used to compromise this tutorial. I hope you have found it useful and feel free to now use this link as a tutorial for working with categorical data.</p>
<p>Happy coding!</p>
<p><a href="https://r4ds.had.co.nz/factors.html">link to factors chapter reference</a></p>
<p><a href="https://rpubs.com/tictacjoe/forcats_tutorial">link to explaination of factors in forcats tutorial</a></p>
<p><a href="https://forcats.tidyverse.org/articles/forcats.html">link to basic things to do with forcats tutorial</a></p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
